#! /bin/bash

for di in {1..25}; do
  d=day"$di"
  luafile="$d".lua
  if [ -e "$luafile" ]; then
    for i in 1 2; do
      printf "%s\tpart%d: " "$d" "$i"
      if diff -w "io/$d/part${i}.txt" <(lua "$luafile" ${i} < "io/$d/input.txt") &> /dev/null; then
        echo -e $'\e[32m+\e[0m'
      else
        echo -e $'\e[31m-\e[0m'
      fi
    done
  fi
done
